<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#1f1f1f">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <title>Listen ‚Äî Text Reader</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Listen</h1>
    <button id="installBtn" hidden>Install</button>
  </header>

  <main>
    <section class="controls">
      <div class="row">
        <label for="voiceSelect">Voice</label>
        <select id="voiceSelect" aria-label="Voice selector"></select>
      </div>
      <div class="row">
        <button id="recordVoiceBtn">üé§ Record My Voice</button>
        <button id="stopRecordBtn" hidden>‚èπÔ∏è Stop</button>
        <button id="trainVoiceBtn" class="ghost" hidden>Train Voice</button>
      </div>
      <div class="row">
        <label for="rate">Speed <span id="rateVal">1.0</span>x</label>
        <input id="rate" type="range" min="0.5" max="2" value="1" step="0.05">
      </div>
      <div class="row">
        <label for="pitch">Pitch <span id="pitchVal">1.0</span></label>
        <input id="pitch" type="range" min="0.5" max="2" value="1" step="0.05">
      </div>
      <div class="row">
        <label for="fileInput" class="file-label">Choose a text file</label>
        <input id="fileInput" type="file" accept=".txt,.md,.html,text/plain,text/markdown,text/html">
        <button id="clearBtn" class="ghost">Clear</button>
      </div>
      <div class="row">
        <button id="playBtn">‚ñ∂Ô∏è Play</button>
        <button id="pauseBtn">‚è∏Ô∏è Pause</button>
        <button id="resumeBtn">‚èØÔ∏è Resume</button>
        <button id="stopBtn">‚èπÔ∏è Stop</button>
        <button id="saveBtn" class="ghost">üíæ Save Progress</button>
      </div>
      <div class="row">
        <label for="chunkSize">Chunk size <span id="chunkVal">220</span> chars</label>
        <input id="chunkSize" type="range" min="120" max="400" value="220" step="10">
      </div>
    </section>

    <section class="editor">
      <textarea id="textInput" placeholder="Paste or type text here. Or load a .txt/.md file above."></textarea>
    </section>

    <section class="progress">
      <label for="progress">Reading progress</label>
      <progress id="progress" value="0" max="100"></progress>
      <span id="progressLabel">0%</span>
    </section>
  </main>

  <footer>
    <small>Install to your Home Screen for the best experience. Works offline after first load.</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
